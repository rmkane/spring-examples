<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Profile - Spring Security Example</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="container">
        <div th:replace="~{fragments :: header('User Profile', 'ðŸ‘¤')}"></div>

        <main class="main-content">
            <div class="profile-card">
                <div class="profile-header">
                    <h2>Welcome, <span th:text="${username}">User</span>!</h2>
                    <p class="role-info">Role: <span th:text="${authorities}">USER</span></p>
                </div>

                <div class="profile-details">
                    <div class="detail-item">
                        <label>Username:</label>
                        <span th:text="${username}">username</span>
                    </div>
                    <div class="detail-item">
                        <label>Authorities:</label>
                        <span th:text="${authorities}">authorities</span>
                    </div>
                    <div class="detail-item">
                        <label>Session Active:</label>
                        <span class="status-active">âœ“ Active</span>
                    </div>
                </div>

                <div class="profile-actions">
                    <a th:href="@{/dashboard}" class="btn btn-primary">Back to Dashboard</a>
                    <a th:href="@{/}" class="btn btn-secondary">Go Home</a>
                </div>
            </div>

            <div class="info-section">
                <h3>About Your Account</h3>
                <p>This is your personal profile page. Here you can view your account information and access different areas of the application based on your role.</p>

                <div class="role-capabilities">
                    <h4>Your Capabilities:</h4>
                    <ul>
                        <li>Access user-specific features</li>
                        <li>View your profile information</li>
                        <li>Navigate to dashboard and home</li>
                        <li th:if="${#authorization.expression('hasRole(''MODERATOR'')')}">Access moderator features</li>
                        <li th:if="${#authorization.expression('hasRole(''ADMIN'')')}">Access administrative features</li>
                    </ul>
                </div>
            </div>
        </main>

        <div th:replace="~{fragments :: logout-button}"></div>
    </div>
</body>
</html>
